##  保养登记

**目前进度**

- 保养登记中，梳理对应模块的功能和数据库表，在相应的子模块中查询相关的数据库表。（**原系统的逻辑和SQL语句**）

- 保养计划列表	
    - [x] 获取保养计划列表	完成	
- 保养项目	
    - [x] 保养项目列表	完成
- 计划资源
    - [x] 获取计划资源列表	完成
    - [ ] 新增计划资源	没有实现功能
    - [ ] 删除计划资源	没有实现功能
- 排故记录
    - [x] 获取保养排故记录列表	完成
    - [x] 新增保养排故记录	完成
    - [ ] 删除保养排故记录	完成（没有实现功能）
    - [x] 排故者列表	完成
    - [x] 故障现象列表	完成
    - [x] 排故地点列表	完成
- 检测记录
    - [x] 获取保养检测记录列表	完成
    - [x] 新增检测记录	完成
    - [ ] 删除检测记录	完成（没有实现功能）
    - [x] 检测项目列表	完成
    - [x] 检测人列表	完成
    - [x] 检测地点列表	完成
- 保养资源
    - [x] 获取保养资源	完成
    - [x] 新增保养资源	完成
    - [x] 删除保养资源	没有实现功能

## 工段记录

**目前进度**

- 排故记录	
    - [x] 新增记录(完成)
    - [x] 删除记录(完成)
    - [x] 故障现象列表(完成)
    - [x] 排故者列表(完成)
    - [x] 排故地点列表(完成)
    - [x] 获取记录(完成)
    - [ ] 排故图片上传(未完成)
- 工段记录
    - [ ] 视频上传(未完成)
    - [ ] 视频下载(未完成)
    - [ ] 文件或图片上传(未完成)
    - [ ] 文件或图片下载(未完成)
    - [x] 获取记录(完成)
    - [x] 保存记录(完成)

**碰到的问题是:**

- 文件传输时的发送和接受，由于原系统用的FTP开一个服务器，所以需要将接受到的文件发送到该服务器，但是前端发送的方式和FTP传输的方式不一样，所以无法直接传输。
**现在计划的两种解决方式是：**

1. 将前端的文件先保存在项目文件夹，然后再发送到FTP服务器。 **缺点**是会占用格外的存储
2. 舍去通过FTP服务器传输，直接将文件以绝对路径保存在服务器上。**缺点**是java服务必须和原系统的FTP服务器在一台电脑上

## 前端

- **目前进度（针对工段）**
    - [x] 维修记录和检测记录基本增删改查完成(页面样式和接口对接)
    - [ ] 排故记录基本增删改查完成，涉及图片上传和显示未完成
    - [ ] 编辑工段记录（涉及上传下载视频）
    - [ ] 工艺卡片

- **问题与思路**
    - 界面样式（押后）
    - 各首页搜索下拉逻辑不对
        - 首页决定使用自定义导航栏，可以实现搜索点击，避免下拉，以及样式组件的层级新问题
    - 弹出框手机样式适配问题，超出和不能滚动
        - 查找相关CSS属性，尽量避免，或者解决该问题
    - 全局的异常处理不到位，出现问题没有提示，没有在全局拦截到一些错误，无法定位错误。
        - 对全局处理进行重新梳理和封装，与后台一起建立一个错误上报的功能
    - 日期选择不能选择其他日期
        - 等待平台解决
    - 页面代码逻辑混乱，重复性高，可复用性差
        - 对表单组件进行封装，强化注释和页面目录的逻辑分层，整理样式

## 总结

- 后台保养部分，继续按计划梳理逻辑和sql语句，复现原系统功能
- 后台工段部分，商量解决上传下载问题，以及工艺卡片的相关功能的接口和页面处理
- 前台，接口联调与样式和逻辑的修改，对代码的优化。